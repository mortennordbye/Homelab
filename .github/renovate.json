{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": ["config:base"],
    "enabledManagers": [
      "github-actions",
      "helm-values",
      "regex"
    ],
    "gitAuthor": "Renovate Bot <bot@renovateapp.com>",
    "customManagers": [
      {
        "description": "Update container images in K8s YAML",
        "customType": "regex",
        "fileMatch": ["^k8s/.*\\.ya?ml$"],
        "matchStrings": [
          // capture image name as depName and the current tag as currentValue
          "image:\\s*['\\\"]?(?<depName>[^:\\s\\\"']+):(?<currentValue>[0-9A-Za-z\\.\\-_]+)['\\\"]?"
        ],
        "datasourceTemplate": "docker",
        "depNameTemplate": "{{depName}}",
        "versioningTemplate": "semver"
      }
    ],
    "helm-values": [
      {
        "fileMatch": ["^k8s/clusters/.+/helm-values/.*\\.ya?ml$"],
        "datasourceTemplate": "helm",
        "depNameTemplate": "{{chart}}",
        "packageNameTemplate": "{{chart}}"
      }
    ],
    "packageRules": [
      {
        "managers": ["regex"],
        "groupName": "ðŸš¢ Container image updates",
        "schedule": ["at any time"]
      },
      {
        "managers": ["helm-values"],
        "groupName": "âŽˆ Weekly Helm chart updates",
        "schedule": ["every weekend"]
      },
      {
        "managers": ["github-actions"],
        "groupName": "ðŸ¤– GitHub Actions updates",
        "schedule": ["monthly"]
      }
    ]
  }
  